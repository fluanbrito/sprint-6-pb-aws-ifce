<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>API TTS</title>
  </head>
  <body>
    <h1>Selecione a rota para enviar a frase</h1>

    <form>
      <textarea id="textInput"></textarea><br><br>
      <select id="routeSelect">
        <option value="v1">Rota v1</option>
        <option value="v2">Rota v2</option>
        <option value="v3">Rota v3</option>
      </select><br><br>
      <button id="submitBtn">Enviar</button>
    </form>

    <div id="output"></div>

    <script>
      document.getElementById("submitBtn").addEventListener("click", function(event) {
        event.preventDefault();

        const textInput = document.getElementById("textInput").value;
        const routeSelect = document.getElementById("routeSelect").value;
        const xhr = new XMLHttpRequest();

        xhr.open("POST", `/${routeSelect}/tts`, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function() {
          if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
            const response = JSON.parse(xhr.responseText);
            document.getElementById("output").innerText = JSON.stringify(response, null, 2);
          }
        };
        xhr.send(JSON.stringify({ phrase: textInput }));
      });
    </script>
  </body>
</html>
